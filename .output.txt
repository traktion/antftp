{"id":3913389043,"number":16,"state":"open","locked":false,"title":"Support pointers to public archives to be used to specify the archive","body":"As an AntFTP user\nI want to provide a pointer to a public archive\nSo that I when I update an archive, the pointer is updated to point its new address\n\nGiven there is a pointer.proto which provides GetPointer gRPC call\nWhen a pointer name is provided as a CLI argument (with -p)\nThen when creating a new Anttp server instance, retrieve the public archive address from the pointer\nBy calling GetPointer with address set to the pointer name provided in the CLI argument\nAnd use the Pointer content returned as the public archive address\n\nGiven there is a pointer.proto which provides UpdatePointer gRPC call\nWhen a pointer name is provided as a CLI argument (with -p)\nThen when a public archive is updated, then the pointer is also updated with the archive\u0026#39;s new address\nAnd use store-type = \u0026#39;disk\u0026#39; to stage the changes in AntTP\n\nGiven PUT, DEL, MKD FTP commands all update the public archive\nWhen one of these commands is used\nThen update the pointer content to the new public archive when these commands are executed \n\nGiven pointer name and content must be provided to update a pointer\nWhen updating a pointer\nThen create call UpdatePointer with a pointer with the name passed in as a CLI argument and the address returned from the updated public archive\n\nGiven the clap library is used to add command line arguments\nWhen adding the new pointer name argument\nThen update main.rs args with pointer_name, which can be set with a long (pointer-name) or short parameter (-p)\nAnd when both an archive and a pointer are specified, used the pointer (and ignore the archive)\nAnd use archive (address) returned from GetPointer (pointer.content) instead\n\nGiven testing would improve quality\nWhen adding pointer support\nThen update the unit tests and integration tests to reflect the ability to pass in and update a pointer\n\nImplementation Notes\n\n- Place any unit tests at the bottom of the same file as the associated production code\n- Increment patch version of anttp package in Cargo.toml\n- Create a copy of this issue description and save to /spec using the name of this issue as the filename (with lower underscore case, starting with the 5 char padded issue number, e.g. 00001_issue_title.txt)\n- Implement basic unit tests","author_association":"OWNER","user":{"login":"traktion","id":12068792,"node_id":"MDQ6VXNlcjEyMDY4Nzky","avatar_url":"https://avatars.githubusercontent.com/u/12068792?v=4","html_url":"https://github.com/traktion","gravatar_id":"","type":"User","site_admin":false,"url":"https://api.github.com/users/traktion","events_url":"https://api.github.com/users/traktion/events{/privacy}","following_url":"https://api.github.com/users/traktion/following{/other_user}","followers_url":"https://api.github.com/users/traktion/followers","gists_url":"https://api.github.com/users/traktion/gists{/gist_id}","organizations_url":"https://api.github.com/users/traktion/orgs","received_events_url":"https://api.github.com/users/traktion/received_events","repos_url":"https://api.github.com/users/traktion/repos","starred_url":"https://api.github.com/users/traktion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/traktion/subscriptions"},"labels":[{"id":10120132573,"url":"https://api.github.com/repos/traktion/antftp/labels/enhancement","name":"enhancement","color":"a2eeef","description":"New feature or request","default":true,"node_id":"LA_kwDORHCqJ88AAAACWzT33Q"}],"assignee":{"login":"traktion","id":12068792,"node_id":"MDQ6VXNlcjEyMDY4Nzky","avatar_url":"https://avatars.githubusercontent.com/u/12068792?v=4","html_url":"https://github.com/traktion","gravatar_id":"","type":"User","site_admin":false,"url":"https://api.github.com/users/traktion","events_url":"https://api.github.com/users/traktion/events{/privacy}","following_url":"https://api.github.com/users/traktion/following{/other_user}","followers_url":"https://api.github.com/users/traktion/followers","gists_url":"https://api.github.com/users/traktion/gists{/gist_id}","organizations_url":"https://api.github.com/users/traktion/orgs","received_events_url":"https://api.github.com/users/traktion/received_events","repos_url":"https://api.github.com/users/traktion/repos","starred_url":"https://api.github.com/users/traktion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/traktion/subscriptions"},"comments":0,"created_at":"2026-02-08T19:31:07Z","updated_at":"2026-02-08T19:42:55Z","url":"https://api.github.com/repos/traktion/antftp/issues/16","html_url":"https://github.com/traktion/antftp/issues/16","comments_url":"https://api.github.com/repos/traktion/antftp/issues/16/comments","events_url":"https://api.github.com/repos/traktion/antftp/issues/16/events","labels_url":"https://api.github.com/repos/traktion/antftp/issues/16/labels{/name}","repository_url":"https://api.github.com/repos/traktion/antftp","reactions":{"total_count":0,"+1":0,"-1":0,"laugh":0,"confused":0,"heart":0,"hooray":0,"rocket":0,"eyes":0,"url":"https://api.github.com/repos/traktion/antftp/issues/16/reactions"},"assignees":[{"login":"traktion","id":12068792,"node_id":"MDQ6VXNlcjEyMDY4Nzky","avatar_url":"https://avatars.githubusercontent.com/u/12068792?v=4","html_url":"https://github.com/traktion","gravatar_id":"","type":"User","site_admin":false,"url":"https://api.github.com/users/traktion","events_url":"https://api.github.com/users/traktion/events{/privacy}","following_url":"https://api.github.com/users/traktion/following{/other_user}","followers_url":"https://api.github.com/users/traktion/followers","gists_url":"https://api.github.com/users/traktion/gists{/gist_id}","organizations_url":"https://api.github.com/users/traktion/orgs","received_events_url":"https://api.github.com/users/traktion/received_events","repos_url":"https://api.github.com/users/traktion/repos","starred_url":"https://api.github.com/users/traktion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/traktion/subscriptions"}],"node_id":"I_kwDORHCqJ87pQZPz"}